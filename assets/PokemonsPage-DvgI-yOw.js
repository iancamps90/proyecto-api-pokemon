import{R as h,j as e,r as i,P as j,L as u,U as p,N as f}from"./index-CdxKL8PZ.js";function P(o){const{pokemon:s,selectPokemon:r,selectPokemon2:n}=o;return!s||!s.id?e.jsx("p",{className:"loading",children:"Loading..."}):s.id?e.jsxs("li",{className:"pokemon-card",onClick:()=>r(s),onAuxClick:()=>n(s),children:[e.jsxs("h2",{className:"pokemon-name",children:[s.name," "]}),e.jsx("img",{src:s.sprites.front_default,alt:"pokemon img",className:"pokemon-img-list"})]}):e.jsx("p",{className:"loading",children:"Loading..."})}const g=h.memo(P);function N(o){const[s,r]=i.useState(1),[n,c]=i.useState(30),m=t=>{r(t.target.value)},l=t=>{c(t.target.value)},a=t=>{if(t.preventDefault(),s>n){alert("El número 'From' no puede ser mayor que 'To'.");return}o.getPokemons(s,n)};return e.jsxs("form",{onSubmit:a,className:"get-form",children:[e.jsxs("fieldset",{children:[e.jsx("label",{htmlFor:"from-pokemon",children:"Form: "}),e.jsx("input",{type:"number",id:"from-pokemon",min:1,value:s,onChange:m})]}),e.jsxs("fieldset",{children:[e.jsx("label",{htmlFor:"to-pokemon",children:"To: "}),e.jsx("input",{type:"number",id:"to-pokemon",value:n,onChange:l})]}),e.jsx("button",{type:"submit",className:"submit-btn",children:"Get Pokemon"})]})}function L(o){const{pokemons:s,setPokemons:r,fetchPokemon:n}=i.useContext(j);i.useEffect(()=>{c(1,9)},[]);const c=async(l,a)=>{try{const t=[];for(let d=l;d<=a;d++){const x=await n(d);t.push(x)}r(t)}catch(t){console.error("Error fetching Pokémon:",t)}},m=i.useMemo(()=>s.map(l=>e.jsx(g,{pokemon:l,selectPokemon:o.selectPokemon,selectPokemon2:o.selectPokemon2},l.id)),[s]);return e.jsxs("div",{children:[e.jsx(N,{getPokemons:c}),e.jsx("ul",{className:"pokemon-list",children:m})]})}function k(o){const[s,r]=i.useState(0),n=()=>{r(s+1)};return e.jsxs(e.Fragment,{children:[" ",o.render(s,n)," "]})}function b(o){const{pokemon:s,likes:r,increaseLikes:n}=o;return!s||!s.sprites?e.jsx("p",{children:"Loading..."}):e.jsxs("section",{className:"selected-pokemon",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Pokemon 1"}),e.jsxs("h3",{children:["Likes ",r,e.jsx("button",{onClick:n,children:"+"})]}),e.jsx(u,{to:`/pokemons/${s.id}`,children:"Ver Detalles"})]}),e.jsxs("div",{className:"pokemon-container",children:[e.jsx("h2",{className:"text",children:s.name}),e.jsx("img",{src:s.sprites.front_default,alt:"pokemon img",className:"pokemon-img-details"}),e.jsxs("h3",{className:"text",children:["HP: ",s.stats[0].base_stat," "]})]})]})}function C(o){const{pokemon:s,likes:r,increaseLikes:n}=o;return!s||!s.sprites?e.jsx("p",{children:"Loading..."}):e.jsxs("section",{className:"selected-pokemon",children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Pokemon 2"}),e.jsxs("h3",{children:["Likes ",r,e.jsx("button",{onClick:n,children:"+"})]}),e.jsx(u,{to:`/pokemons/${s.id}`,children:"Ver Detalles"})]}),e.jsxs("div",{className:"pokemon-container",children:[e.jsx("h2",{className:"text",children:s.name}),e.jsx("img",{src:s.sprites.front_default,alt:"pokemon img",className:"pokemon-img-details"}),e.jsxs("h3",{className:"text",children:["HP: ",s.stats[0].base_stat," "]})]})]})}function S(){const{user:o}=i.useContext(p);if(!o.isLoggedIn)return e.jsx(f,{to:"/error"});const[s,r]=i.useState(null),[n,c]=i.useState(null),m=(a,t)=>e.jsx(b,{pokemon:s,likes:a,increaseLikes:t}),l=(a,t)=>e.jsx(C,{pokemon:n,likes:a,increaseLikes:t});return e.jsxs("main",{className:"main",children:[e.jsx("h2",{children:"Pokemons Seleccionados"}),s&&e.jsx(k,{render:m}),n&&e.jsx(k,{render:l}),e.jsx("h2",{children:"Lista de Pokemons"}),e.jsx(L,{selectPokemon:r,selectPokemon2:c})]})}export{S as default};
